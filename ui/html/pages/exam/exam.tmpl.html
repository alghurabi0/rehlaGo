{{ define "title" }}{{ .TemplateTitle }}{{ end }} {{ define "main" }}
<div class="view">
  <div class="mt-3 flex flex-row justify-end items-center md:mr-20">
    <h1 class="my-2 mr-2 text-end text-xl font-bold text-black">الاختبار</h1>
    <svg
      width="20"
      height="20"
      viewBox="0 0 20 20"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      onclick="history.back()"
    >
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M6.91042 15.5894C6.58498 15.264 6.58498 14.7363 6.91042 14.4109L11.3212 10.0002L6.91042 5.58942C6.58498 5.26398 6.58498 4.73634 6.91042 4.41091C7.23586 4.08547 7.76349 4.08547 8.08893 4.41091L13.0889 9.41091C13.4144 9.73634 13.4144 10.264 13.0889 10.5894L8.08893 15.5894C7.76349 15.9149 7.23586 15.9149 6.91042 15.5894Z"
        fill="#202020"
      />
    </svg>
  </div>

  <div
    id="exam_res"
    class="text-md mt-4 grid grid-cols-1 justify-items-center place-self-center place-items-center gap-y-4 pb-20 md:pb-0 md:w-5/6"
  >
    <h1
      id="examInfo"
      data-courseId="{{ .Exam.CourseId }}"
      data-examId="{{ .Exam.ID }}"
      class="text-center text-lg font-bold"
    >
      {{ .Exam.Title }}
    </h1>
    <p class="mt-4 text-center text-lg font-bold">
      قم بتحميل اسئلة الاختبار بصيغة (بي دي أف) بالضغط على الزر ادناه
    </p>

    <a
      href="{{ .Exam.URL }}"
      class="mt-4 w-full rounded-xl bg-[#A490BB] md:w-5/6"
      download
      target="_blank"
    >
      <div
        class="flex h-14 w-full flex-row justify-center items-center text-lg text-white"
      >
        <button class="mr-2">تحميل اسئلة الاختبار</button>
        <svg
          width="18"
          height="20"
          viewBox="0 0 18 20"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M2.33398 8.66667V8H1.66732V8.66667H2.33398ZM7.66732 8.66667V8H7.00065V8.66667H7.66732ZM7.66732 14H7.00065V14.6667H7.66732V14ZM17.0007 4.66667H17.6673V4.39067L17.4727 4.19467L17.0007 4.66667ZM13.0007 0.666667L13.4727 0.194667L13.2767 0H13.0007V0.666667ZM2.33398 9.33333H3.66732V8H2.33398V9.33333ZM3.00065 14.6667V11.3333H1.66732V14.6667H3.00065ZM3.00065 11.3333V8.66667H1.66732V11.3333H3.00065ZM3.66732 10.6667H2.33398V12H3.66732V10.6667ZM4.33398 10C4.33398 10.1768 4.26375 10.3464 4.13872 10.4714C4.0137 10.5964 3.84413 10.6667 3.66732 10.6667V12C4.19775 12 4.70646 11.7893 5.08153 11.4142C5.4566 11.0391 5.66732 10.5304 5.66732 10H4.33398ZM3.66732 9.33333C3.84413 9.33333 4.0137 9.40357 4.13872 9.5286C4.26375 9.65362 4.33398 9.82319 4.33398 10H5.66732C5.66732 9.46957 5.4566 8.96086 5.08153 8.58579C4.70646 8.21071 4.19775 8 3.66732 8V9.33333ZM7.00065 8.66667V14H8.33398V8.66667H7.00065ZM7.66732 14.6667H9.00065V13.3333H7.66732V14.6667ZM11.0007 12.6667V10H9.66732V12.6667H11.0007ZM9.00065 8H7.66732V9.33333H9.00065V8ZM11.0007 10C11.0007 9.46957 10.7899 8.96086 10.4149 8.58579C10.0398 8.21071 9.53108 8 9.00065 8V9.33333C9.17746 9.33333 9.34703 9.40357 9.47206 9.5286C9.59708 9.65362 9.66732 9.82319 9.66732 10H11.0007ZM9.00065 14.6667C9.53108 14.6667 10.0398 14.456 10.4149 14.0809C10.7899 13.7058 11.0007 13.1971 11.0007 12.6667H9.66732C9.66732 12.8435 9.59708 13.013 9.47206 13.1381C9.34703 13.2631 9.17746 13.3333 9.00065 13.3333V14.6667ZM12.334 8V14.6667H13.6673V8H12.334ZM13.0007 9.33333H16.334V8H13.0007V9.33333ZM13.0007 12H15.0007V10.6667H13.0007V12ZM1.66732 6.66667V2H0.333984V6.66667H1.66732ZM16.334 4.66667V6.66667H17.6673V4.66667H16.334ZM2.33398 1.33333H13.0007V0H2.33398V1.33333ZM12.5287 1.13867L16.5287 5.13867L17.4727 4.19467L13.4727 0.194667L12.5287 1.13867ZM1.66732 2C1.66732 1.82319 1.73756 1.65362 1.86258 1.5286C1.9876 1.40357 2.15717 1.33333 2.33398 1.33333V0C1.80355 0 1.29484 0.210714 0.919771 0.585786C0.544698 0.960859 0.333984 1.46957 0.333984 2H1.66732ZM0.333984 16V18H1.66732V16H0.333984ZM2.33398 20H15.6673V18.6667H2.33398V20ZM17.6673 18V16H16.334V18H17.6673ZM15.6673 20C16.1978 20 16.7065 19.7893 17.0815 19.4142C17.4566 19.0391 17.6673 18.5304 17.6673 18H16.334C16.334 18.1768 16.2637 18.3464 16.1387 18.4714C16.0137 18.5964 15.8441 18.6667 15.6673 18.6667V20ZM0.333984 18C0.333984 18.5304 0.544698 19.0391 0.919771 19.4142C1.29484 19.7893 1.80355 20 2.33398 20V18.6667C2.15717 18.6667 1.9876 18.5964 1.86258 18.4714C1.73756 18.3464 1.66732 18.1768 1.66732 18H0.333984Z"
            fill="white"
          />
        </svg>
      </div>
    </a>

    <form
      class="w-full md:w-5/6"
      hx-post="/answers/{{.Exam.CourseId}}/{{.Exam.ID}}"
      hx-target="#exam_res"
      hx-swap="innerHTML"
      hx-trigger="submit"
      enctype="multipart/form-data"
    >
      <div class="mt-14 flex w-full flex-col items-center">
        <h1 class="text-2xl font-bold">رفع الاجابة</h1>
        <label
          for="file_upload"
          class="mt-6 flex w-full flex-row justify-between"
        >
          <div
            class="text-md w-1/3 rounded-s-xl border-2 border-purple-600 px-6 py-2 flex text-center items-center justify-center font-bold cursor-pointer"
          >
            اختر ملف
          </div>
          <div
            class="flex w-2/3 flex-row justify-end rounded-e-xl border-2 border-l-0 border-gray-300 px-3 py-3"
          >
            <div id="filename" class="mr-2">لم تقم باختيار ملف بعد</div>
            <svg
              width="16"
              height="20"
              viewBox="0 0 16 20"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M1.23223 1.56573C1.70107 1.09689 2.33696 0.833496 3 0.833496H8.83333C9.05435 0.833496 9.26631 0.921293 9.42259 1.07757L15.2559 6.91091C15.4122 7.06719 15.5 7.27915 15.5 7.50016V16.6668C15.5 17.3299 15.2366 17.9658 14.7678 18.4346C14.2989 18.9034 13.663 19.1668 13 19.1668H3C2.33696 19.1668 1.70107 18.9034 1.23223 18.4346C0.763392 17.9658 0.5 17.3299 0.5 16.6668V3.3335C0.5 2.67046 0.763392 2.03457 1.23223 1.56573ZM3 2.50016C2.77899 2.50016 2.56702 2.58796 2.41074 2.74424C2.25446 2.90052 2.16667 3.11248 2.16667 3.3335V16.6668C2.16667 16.8878 2.25446 17.0998 2.41074 17.2561C2.56702 17.4124 2.77899 17.5002 3 17.5002H13C13.221 17.5002 13.433 17.4124 13.5893 17.2561C13.7455 17.0998 13.8333 16.8878 13.8333 16.6668V7.84534L8.48816 2.50016H3Z"
                fill="#ADADAD"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M8.83333 0.833496C9.29357 0.833496 9.66667 1.20659 9.66667 1.66683V6.66683H14.6667C15.1269 6.66683 15.5 7.03993 15.5 7.50016C15.5 7.9604 15.1269 8.3335 14.6667 8.3335H8.83333C8.3731 8.3335 8 7.9604 8 7.50016V1.66683C8 1.20659 8.3731 0.833496 8.83333 0.833496Z"
                fill="#ADADAD"
              />
            </svg>
          </div>
        </label>
        <input
          id="file_upload"
          name="answer_file"
          type="file"
          accept="application/pdf"
          class="mr-2 hidden w-2/3 text-end"
          _="on change 
            set the innerText of #filename to my.files[0]?.name"
        />

        <div class="mt-3 flex w-full flex-row justify-end text-gray-400">
          <p class="mr-2 text-end">
            أرفق ملف. يجب ألا يتجاوز حجم ملف مستنداتك 10 ميغا بايت. الصيغ
            المسموحة: بي دي أف, ورد, صورة
          </p>
          <svg
            width="20"
            height="18"
            viewBox="0 0 20 18"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M11.2255 0.902589C10.8511 0.691795 10.4287 0.581055 9.99905 0.581055C9.56938 0.581055 9.14696 0.691795 8.77255 0.902589C8.39814 1.11338 8.08438 1.41712 7.86155 1.78448L7.85915 1.78844L0.800822 13.5718L0.794054 13.5833C0.575764 13.9613 0.460262 14.3899 0.459039 14.8264C0.457817 15.263 0.570917 15.6922 0.787086 16.0714C1.00326 16.4507 1.31496 16.7667 1.69119 16.9881C2.06741 17.2095 2.49505 17.3285 2.93155 17.3333L2.94071 17.3334L17.0665 17.3333C17.503 17.3285 17.9307 17.2095 18.3069 16.9881C18.6831 16.7667 18.9948 16.4507 19.211 16.0714C19.4272 15.6922 19.5403 15.263 19.5391 14.8264C19.5378 14.3899 19.4223 13.9613 19.204 13.5833L19.1973 13.5718L12.1366 1.78448C11.9137 1.41711 11.5999 1.11338 11.2255 0.902589ZM9.99905 2.24772C10.1423 2.24772 10.2831 2.28463 10.4079 2.3549C10.5321 2.42485 10.6363 2.52549 10.7105 2.64721L17.7635 14.4215C17.8345 14.5464 17.872 14.6874 17.8724 14.8311C17.8728 14.9766 17.8351 15.1197 17.763 15.2461C17.691 15.3725 17.5871 15.4779 17.4617 15.5517C17.3374 15.6248 17.1962 15.6644 17.052 15.6667H2.94604C2.80188 15.6644 2.66073 15.6248 2.53642 15.5517C2.41101 15.4779 2.30711 15.3725 2.23505 15.2461C2.16299 15.1197 2.12529 14.9766 2.1257 14.8311C2.1261 14.6875 2.16363 14.5464 2.23459 14.4216L9.28655 2.64886C9.28688 2.64831 9.28722 2.64776 9.28755 2.64721C9.36177 2.52549 9.46598 2.42485 9.59021 2.3549C9.71502 2.28463 9.85582 2.24772 9.99905 2.24772ZM9.99905 5.66667C9.53881 5.66667 9.16571 6.03977 9.16571 6.50001V9.83334C9.16571 10.2936 9.53881 10.6667 9.99905 10.6667C10.4593 10.6667 10.8324 10.2936 10.8324 9.83334V6.50001C10.8324 6.03977 10.4593 5.66667 9.99905 5.66667ZM10.8324 13.1667C10.8324 12.7064 10.4593 12.3333 9.99905 12.3333H9.99071C9.53047 12.3333 9.15738 12.7064 9.15738 13.1667C9.15738 13.6269 9.53047 14 9.99071 14H9.99905C10.4593 14 10.8324 13.6269 10.8324 13.1667Z"
              fill="#8E8E8E"
              fill-opacity="0.72"
            />
          </svg>
        </div>
      </div>

      <div class="mt-14 flex w-full flex-row text-lg font-bold">
        <div
          id="cancel_upload"
          class="mr-6 flex flex-grow flex-row justify-center items-center rounded-xl border-[3px] border-purple-700 py-3 cursor-pointer"
          _="on click 
             set #file_upload's value to ''; 
             set the innerText of #filename to 'لم تقم باختيار ملف بعد'"
        >
          <h1 class="mr-2">الغاء</h1>
          <svg
            width="19"
            height="20"
            viewBox="0 0 19 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M9.3776 2.50016C5.23547 2.50016 1.8776 5.85803 1.8776 10.0002C1.8776 14.1423 5.23547 17.5002 9.3776 17.5002C13.5197 17.5002 16.8776 14.1423 16.8776 10.0002C16.8776 5.85803 13.5197 2.50016 9.3776 2.50016ZM0.210938 10.0002C0.210938 4.93755 4.31499 0.833496 9.3776 0.833496C14.4402 0.833496 18.5443 4.93755 18.5443 10.0002C18.5443 15.0628 14.4402 19.1668 9.3776 19.1668C4.31499 19.1668 0.210938 15.0628 0.210938 10.0002ZM6.28835 6.91091C6.61378 6.58547 7.14142 6.58547 7.46686 6.91091L9.3776 8.82165L11.2883 6.91091C11.6138 6.58547 12.1414 6.58547 12.4669 6.91091C12.7923 7.23634 12.7923 7.76398 12.4669 8.08942L10.5561 10.0002L12.4669 11.9109C12.7923 12.2363 12.7923 12.764 12.4669 13.0894C12.1414 13.4149 11.6138 13.4149 11.2883 13.0894L9.3776 11.1787L7.46686 13.0894C7.14142 13.4149 6.61378 13.4149 6.28835 13.0894C5.96291 12.764 5.96291 12.2363 6.28835 11.9109L8.19909 10.0002L6.28835 8.08942C5.96291 7.76398 5.96291 7.23634 6.28835 6.91091Z"
              fill="#202020"
            />
          </svg>
        </div>
        <button
          id="send_file"
          type="submit"
          class="flex flex-grow flex-row justify-center items-center rounded-xl bg-[#A490BB] py-3 cursor-pointer"
        >
          <h1 class="mr-2 text-white">ارسال</h1>
          <svg
            width="20"
            height="16"
            viewBox="0 0 20 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M2.60118 2.62829L10.0124 7.81612L17.4236 2.62829C17.2857 2.35577 17.0023 2.16667 16.679 2.16667H3.3457C3.0224 2.16667 2.739 2.35577 2.60118 2.62829ZM17.5124 4.60055L10.4903 9.51603C10.2033 9.71688 9.82142 9.71688 9.53448 9.51603L2.51237 4.60055V13C2.51237 13.4564 2.88927 13.8333 3.3457 13.8333H16.679C17.1355 13.8333 17.5124 13.4564 17.5124 13V4.60055ZM0.845703 3C0.845703 1.6231 1.9688 0.5 3.3457 0.5H16.679C18.0559 0.5 19.179 1.6231 19.179 3V13C19.179 14.3769 18.0559 15.5 16.679 15.5H3.3457C1.9688 15.5 0.845703 14.3769 0.845703 13V3Z"
              fill="white"
            />
          </svg>
        </button>
      </div>
    </form>
  </div>
</div>
{{ end }}
